webpackJsonp([1],{0:function(e,t,r){r(143),e.exports=r(202)},89:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CHANGE_FIELD="CHANGE_FIELD",t.REQUEST_WEATHER="REQUEST_WEATHER",t.RESPONSE_WEATHER="RESPONSE_WEATHER",t.FAIL_RESPONSE="FAIL_RESPONSE"},91:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(152),a=n(o);t.default=a.default||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}},137:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.repeat=function(e,t){return new Array(t+1).join(e)},n=t.pad=function(e,t){return r("0",t-e.toString().length)+e};t.formatTime=function(e){return n(e.getHours(),2)+":"+n(e.getMinutes(),2)+":"+n(e.getSeconds(),2)+"."+n(e.getMilliseconds(),3)},t.timer="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date},143:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){var e=JSON.parse(document.getElementById("initial-state").textContent);d.default.render(l.default.createElement(s.default,{initialState:e}),document.getElementById("weather"))}var a=r(43),i=n(a),u=r(146),s=n(u),f=r(10),l=n(f),c=r(108),d=n(c);(0,i.default)(window.addEventListener)?window.addEventListener("DOMContentLoaded",o):window.attachEvent("onload",o)},145:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return{type:c.CHANGE_FIELD,name:e,value:t}}function a(e){return{type:c.REQUEST_WEATHER,param:e}}function i(e,t){return{type:c.RESPONSE_WEATHER,param:e,res:t}}function u(e){return{type:c.FAIL_RESPONSE,err:e}}function s(e){return function(t){return t(a(e)),l.default.get("/weather",e).then(function(r){return t(i(e,r))}).catch(function(e){return t(u(e))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.changeField=o,t.fetchWeather=s;var f=r(150),l=n(f),c=r(89)},146:function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=(0,g.default)(w.default,e);return t}Object.defineProperty(t,"__esModule",{value:!0});var i=r(38),u=o(i),s=r(39),f=o(s),l=r(40),c=o(l),d=r(42),h=o(d),p=r(41),y=o(p),b=r(10),v=o(b),m=r(129),E=r(148),w=o(E),_=r(149),g=o(_),A=r(147),O=o(A),j=r(145),S=n(j),x=(0,m.connect)(function(e){return e})((0,_.wrapComponentWithActions)(O.default,S)),P=function(e){function t(){return(0,f.default)(this,t),(0,h.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,y.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props.initialState.weather,t={weatherByCityName:{weather:e}},r=a(t);return v.default.createElement(m.Provider,{store:r},v.default.createElement(x,null))}}]),t}(b.Component);t.default=P},147:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(38),a=n(o),i=r(39),u=n(i),s=r(40),f=n(s),l=r(42),c=n(l),d=r(41),h=n(d),p=r(10),y=n(p),b=r(160),v=n(b),m=function(e){function t(){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,f.default)(t,[{key:"handleChange",value:function(e){e&&e.preventDefault();var t=this.props.changeField;t("city",e.target.value)}},{key:"handleQuery",value:function(e){e&&e.preventDefault();var t=this.props.fetchWeather,r=this.props.weatherByCityName.weather;t({cityname:r.city})}},{key:"componentWillReceiveProps",value:function(e){e.weatherByCityName.weatherFetching===!1&&this.props.weatherByCityName.weatherFetching===!0&&(e.weatherByCityName.weatherFetched===!0?alert("fetch success!"):alert(e.errMsg))}},{key:"render",value:function(){var e=this.props.weatherByCityName.weather,t=(0,v.default)({"weather-content":!0});return y.default.createElement("div",{className:t},y.default.createElement("h3",null,"Weather"),y.default.createElement("div",{className:"weather-form"},y.default.createElement("input",{type:"text",name:"cityname",value:e.city,onChange:this.handleChange.bind(this)}),y.default.createElement("button",{onClick:this.handleQuery.bind(this)},"Query"),y.default.createElement("p",null,y.default.createElement("label",null,"City:"),y.default.createElement("span",null,e.pinyin)),y.default.createElement("p",null,y.default.createElement("label",null,"Date:"),y.default.createElement("span",null,e.date)),y.default.createElement("p",null,y.default.createElement("label",null,"Postcode:"),y.default.createElement("span",null,e.postCode)),y.default.createElement("p",null,y.default.createElement("label",null,"Sunrise:"),y.default.createElement("span",null,e.sunrise)),y.default.createElement("p",null,y.default.createElement("label",null,"Sunset:"),y.default.createElement("span",null,e.sunset)),y.default.createElement("p",null,y.default.createElement("label",null,"Coordinate:"),y.default.createElement("span",null,e.longitude,"/",e.latitude)),y.default.createElement("p",null,y.default.createElement("label",null,"Weather:"),y.default.createElement("span",null,e.weather))))}}]),t}(p.Component);t.default=m},148:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case f.CHANGE_FIELD:var r=t.name,n=t.value;return(0,s.default)({},e,{weather:(0,s.default)({},e.weather,(0,i.default)({},r,n))});case f.REQUEST_WEATHER:return(0,s.default)({},e,{weatherFetched:!1,weatherFetching:!0});case f.RESPONSE_WEATHER:var o=t.res.result,a=t.res.weatherFetched;return(0,s.default)({},e,{weather:o,weatherFetched:a,weatherFetching:!1});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(158),i=n(a),u=r(91),s=n(u);t.weatherByCityName=o;var f=r(89),l=r(55),c=(0,l.combineReducers)({weatherByCityName:o});t.default=c},149:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r=function(r){function n(){return(0,l.default)(this,n),(0,p.default)(this,(n.__proto__||(0,s.default)(n)).apply(this,arguments))}return(0,b.default)(n,r),(0,d.default)(n,[{key:"render",value:function(){return E.default.createElement(e,(0,i.default)({},this.props,(0,v.bindActionCreators)(t,this.props.dispatch)))}}]),n}(m.Component);return r}Object.defineProperty(t,"__esModule",{value:!0});var a=r(91),i=n(a),u=r(38),s=n(u),f=r(39),l=n(f),c=r(40),d=n(c),h=r(42),p=n(h),y=r(41),b=n(y);t.wrapComponentWithActions=o;var v=r(55),m=r(10),E=n(m),w=r(310),_=n(w),g=r(309),A=n(g),O=(0,A.default)(),j=(0,v.applyMiddleware)(_.default,O)(v.createStore);t.default=j},150:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(151),a=n(o),i=r(154),u=n(i),s=r(217),f=n(s),l="//localhost:"+({NODE_ENV:"production"}.LISTEN_PORT||3e3);t.default={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{host:l},n=[];return(0,u.default)(t).forEach(function(e){n.push(e+"="+encodeURIComponent(t[e]))}),n=n.join("&"),e=""+r.host+e+"?"+n,(0,f.default)(e).then(function(e){return e.json()})},post:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.default)(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:(0,a.default)(t)}).then(function(e){if(e.ok)return e.json();throw new Error("post failed,err stack:"+(e.error?e.error():""))})}}},151:function(e,t,r){e.exports={default:r(161),__esModule:!0}},152:function(e,t,r){e.exports={default:r(162),__esModule:!0}},154:function(e,t,r){e.exports={default:r(166),__esModule:!0}},158:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(90),a=n(o);t.default=function(e,t,r){return t in e?(0,a.default)(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},160:function(e,t,r){var n,o;!function(){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n))e.push(r.apply(null,n));else if("object"===o)for(var i in n)a.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}var a={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=r:(n=[],o=function(){return r}.apply(t,n),!(void 0!==o&&(e.exports=o)))}()},161:function(e,t,r){var n=r(7),o=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},162:function(e,t,r){r(188),e.exports=r(7).Object.assign},166:function(e,t,r){r(192),e.exports=r(7).Object.keys},180:function(e,t,r){"use strict";var n=r(23),o=r(61),a=r(44),i=r(46),u=r(96),s=Object.assign;e.exports=!s||r(21)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=s({},e)[r]||Object.keys(s({},t)).join("")!=n})?function(e,t){for(var r=i(e),s=arguments.length,f=1,l=o.f,c=a.f;s>f;)for(var d,h=u(arguments[f++]),p=l?n(h).concat(l(h)):n(h),y=p.length,b=0;y>b;)c.call(h,d=p[b++])&&(r[d]=h[d]);return r}:s},188:function(e,t,r){var n=r(16);n(n.S+n.F,"Object",{assign:r(180)})},192:function(e,t,r){var n=r(46),o=r(23);r(102)("keys",function(){return function(e){return o(n(e))}})},200:function(e,t,r){var n,o;(function(r){!function(r,a){"use strict";n=[],o=function(){return a()}.apply(t,n),!(void 0!==o&&(e.exports=o))}(this,function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function n(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function o(e,t,r){o.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})}function a(e,t){a.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function i(e,t){i.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,r){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:r,enumerable:!0})}function s(e,t,r){var n=e.slice((r||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function f(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"undefined"!=typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(t,r,n,c,d,h,p){d=d||[];var y=d.slice(0);if("undefined"!=typeof h){if(c){if("function"==typeof c&&c(y,h))return;if("object"==typeof c){if(c.prefilter&&c.prefilter(y,h))return;if(c.normalize){var b=c.normalize(y,h,t,r);b&&(t=b[0],r=b[1])}}}y.push(h)}"regexp"===f(t)&&"regexp"===f(r)&&(t=t.toString(),r=r.toString());var v=typeof t,m=typeof r;if("undefined"===v)"undefined"!==m&&n(new a(y,r));else if("undefined"===m)n(new i(y,t));else if(f(t)!==f(r))n(new o(y,t,r));else if("[object Date]"===Object.prototype.toString.call(t)&&"[object Date]"===Object.prototype.toString.call(r)&&t-r!==0)n(new o(y,t,r));else if("object"===v&&null!==t&&null!==r){if(p=p||[],p.indexOf(t)<0){if(p.push(t),Array.isArray(t)){var E;t.length;for(E=0;E<t.length;E++)E>=r.length?n(new u(y,E,new i(e,t[E]))):l(t[E],r[E],n,c,y,E,p);for(;E<r.length;)n(new u(y,E,new a(e,r[E++])))}else{var w=Object.keys(t),_=Object.keys(r);w.forEach(function(o,a){var i=_.indexOf(o);i>=0?(l(t[o],r[o],n,c,y,o,p),_=s(_,i)):l(t[o],e,n,c,y,o,p)}),_.forEach(function(t){l(e,r[t],n,c,y,t,p)})}p.length=p.length-1}}else t!==r&&("number"===v&&isNaN(t)&&isNaN(r)||n(new o(y,t,r)))}function c(t,r,n,o){return o=o||[],l(t,r,function(e){e&&o.push(e)},n),o.length?o:e}function d(e,t,r){if(r.path&&r.path.length){var n,o=e[t],a=r.path.length-1;for(n=0;n<a;n++)o=o[r.path[n]];switch(r.kind){case"A":d(o[r.path[n]],r.index,r.item);break;case"D":delete o[r.path[n]];break;case"E":case"N":o[r.path[n]]=r.rhs}}else switch(r.kind){case"A":d(e[t],r.index,r.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=r.rhs}return e}function h(e,t,r){if(e&&t&&r&&r.kind){for(var n=e,o=-1,a=r.path?r.path.length-1:0;++o<a;)"undefined"==typeof n[r.path[o]]&&(n[r.path[o]]="number"==typeof r.path[o]?[]:{}),n=n[r.path[o]];switch(r.kind){case"A":d(r.path?n[r.path[o]]:n,r.index,r.item);break;case"D":delete n[r.path[o]];break;case"E":case"N":n[r.path[o]]=r.rhs}}}function p(e,t,r){if(r.path&&r.path.length){var n,o=e[t],a=r.path.length-1;for(n=0;n<a;n++)o=o[r.path[n]];switch(r.kind){case"A":p(o[r.path[n]],r.index,r.item);break;case"D":o[r.path[n]]=r.lhs;break;case"E":o[r.path[n]]=r.lhs;break;case"N":delete o[r.path[n]]}}else switch(r.kind){case"A":p(e[t],r.index,r.item);break;case"D":e[t]=r.lhs;break;case"E":e[t]=r.lhs;break;case"N":e=s(e,t)}return e}function y(e,t,r){if(e&&t&&r&&r.kind){var n,o,a=e;for(o=r.path.length-1,n=0;n<o;n++)"undefined"==typeof a[r.path[n]]&&(a[r.path[n]]={}),a=a[r.path[n]];switch(r.kind){case"A":p(a[r.path[n]],r.index,r.item);break;case"D":a[r.path[n]]=r.lhs;break;case"E":a[r.path[n]]=r.lhs;break;case"N":delete a[r.path[n]]}}}function b(e,t,r){if(e&&t){var n=function(n){r&&!r(e,t,n)||h(e,t,n)};l(e,t,n)}}var v,m,E=[];return v="object"==typeof r&&r?r:"undefined"!=typeof window?window:{},m=v.DeepDiff,m&&E.push(function(){"undefined"!=typeof m&&v.DeepDiff===c&&(v.DeepDiff=m,m=e)}),t(o,n),t(a,n),t(i,n),t(u,n),Object.defineProperties(c,{diff:{value:c,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:b,enumerable:!0},applyChange:{value:h,enumerable:!0},revertChange:{value:y,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof m},enumerable:!0},noConflict:{value:function(){return E&&(E.forEach(function(e){e()}),E=null),c},enumerable:!0}}),c})}).call(t,function(){return this}())},202:function(e,t){},217:function(e,t,r){r(319),e.exports=self.fetch.bind(self)},306:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function i(e,t,r,n){switch("undefined"==typeof e?"undefined":a(e)){case"object":return"function"==typeof e[n]?e[n].apply(e,o(r)):e[n];case"function":return e(t);default:return e}}function u(e){var t=e.timestamp,r=e.duration;return function(e,n,o){var a=["action"];return t&&a.push("@ "+n),a.push(e.type),r&&a.push("(in "+o.toFixed(2)+" ms)"),a.join(" ")}}function s(e,t){var r=t.logger,n=t.actionTransformer,o=t.titleFormatter,a=void 0===o?u(t):o,s=t.collapsed,l=t.colors,d=t.level,h=t.diff;e.forEach(function(t,o){var u=t.started,p=t.startedTime,y=t.action,b=t.prevState,v=t.error,m=t.took,E=t.nextState,w=e[o+1];w&&(E=w.prevState,m=w.started-u);var _=n(y),g="function"==typeof s?s(function(){return E},y):s,A=(0,f.formatTime)(p),O=l.title?"color: "+l.title(_)+";":null,j=a(_,A,m);try{g?l.title?r.groupCollapsed("%c "+j,O):r.groupCollapsed(j):l.title?r.group("%c "+j,O):r.group(j)}catch(e){r.log(j)}var S=i(d,_,[b],"prevState"),x=i(d,_,[_],"action"),P=i(d,_,[v,b],"error"),T=i(d,_,[E],"nextState");S&&(l.prevState?r[S]("%c prev state","color: "+l.prevState(b)+"; font-weight: bold",b):r[S]("prev state",b)),x&&(l.action?r[x]("%c action","color: "+l.action(_)+"; font-weight: bold",_):r[x]("action",_)),v&&P&&(l.error?r[P]("%c error","color: "+l.error(v,b)+"; font-weight: bold",v):r[P]("error",v)),T&&(l.nextState?r[T]("%c next state","color: "+l.nextState(E)+"; font-weight: bold",E):r[T]("next state",E)),h&&(0,c.default)(b,E,r,g);try{r.groupEnd()}catch(e){r.log("—— log end ——")}})}Object.defineProperty(t,"__esModule",{value:!0}),t.printBuffer=s;var f=r(137),l=r(308),c=n(l)},307:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},e.exports=t.default},308:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return"color: "+f[e].color+"; font-weight: bold"}function a(e){var t=e.kind,r=e.path,n=e.lhs,o=e.rhs,a=e.index,i=e.item;switch(t){case"E":return r.join(".")+" "+n+" → "+o;case"N":return r.join(".")+" "+o;case"D":return""+r.join(".");case"A":return[r.join(".")+"["+a+"]",i];default:return null}}function i(e,t,r,n){var i=(0,s.default)(e,t);try{n?r.groupCollapsed("diff"):r.group("diff")}catch(e){r.log("diff")}i?i.forEach(function(e){var t=e.kind,n=a(e);r.log("%c "+f[t].text,o(t),n)}):r.log("—— no diff ——");try{r.groupEnd()}catch(e){r.log("—— diff end —— ")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var u=r(200),s=n(u),f={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}};e.exports=t.default},309:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=a({},f.default,e),r=t.logger,n=t.transformer,o=t.stateTransformer,s=t.errorTransformer,l=t.predicate,c=t.logErrors,d=t.diffPredicate;if("undefined"==typeof r)return function(){return function(e){return function(t){return e(t)}}};n&&console.error("Option 'transformer' is deprecated, use 'stateTransformer' instead!");var h=[];return function(e){var r=e.getState;return function(e){return function(n){if("function"==typeof l&&!l(r,n))return e(n);var f={};h.push(f),f.started=u.timer.now(),f.startedTime=new Date,f.prevState=o(r()),f.action=n;var p=void 0;if(c)try{p=e(n)}catch(e){f.error=s(e)}else p=e(n);f.took=u.timer.now()-f.started,f.nextState=o(r());var y=t.diff&&"function"==typeof d?d(r,n):t.diff;if((0,i.printBuffer)(h,a({},t,{diff:y})),h.length=0,f.error)throw f.error;return p}}}}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r(306),u=r(137),s=r(307),f=n(s);t.default=o,e.exports=t.default},310:function(e,t){"use strict";function r(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(o){return"function"==typeof o?o(r,n,e):t(o)}}}}t.__esModule=!0;var n=r();n.withExtraArgument=r,t.default=n},319:function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function a(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function i(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function u(e){var t=new FileReader,r=i(t);return t.readAsArrayBuffer(e),r}function s(e){var t=new FileReader,r=i(t);return t.readAsText(e),r}function f(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&E(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(f(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function h(e,t){t=t||{};var r=t.body;if("string"==typeof e)this.url=e;else{if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function y(e){var t=new o;return e.split("\r\n").forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}}),t}function b(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],E=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&m.indexOf(Object.prototype.toString.call(e))>-1};o.prototype.append=function(e,n){e=t(e),n=r(n);var o=this.map[e];this.map[e]=o?o+","+n:n},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,n){this.map[t(e)]=r(n)},o.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),n(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),n(e)},v.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},c.call(h.prototype),c.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var g=[301,302,303,307,308];b.redirect=function(e,t){if(g.indexOf(t)===-1)throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=h,e.Response=b,e.fetch=function(e,t){return new Promise(function(r,n){var o=new h(e,t),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:y(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new b(t,e))},a.onerror=function(){n(new TypeError("Network request failed"))},a.ontimeout=function(){n(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&v.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)}});